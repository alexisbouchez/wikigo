# wikigo - Missing Features from pkg.go.dev

## High Priority

### Metadata & Header
- [x] Version badge with version selector dropdown
- [x] Published date display
- [x] License detection and display (BSD-3-Clause, MIT, etc.)
- [x] Imports count with clickable popup showing import list
- [x] "Imported by" count (requires indexing ecosystem)

### Navigation
- [x] Breadcrumb navigation (Discover Packages > Standard library > net > http)
- [x] Collapsible "Jump To" sidebar sections
- [x] Mobile-responsive hamburger menu
- [x] Sticky sidebar that scrolls with content

### Examples Section
- [x] Dedicated Examples section in index
- [x] Example code with "Share" button
- [x] Example code with "Format" button
- [x] Example code with "Run" button (Go Playground integration)
- [x] Expandable/collapsible example blocks

### Source Files Section
- [x] List all source files in package
- [x] Link each file to source browser with line count

### Directories Section
- [x] Show subpackages/subdirectories
- [x] Synopsis for each subdirectory

## Medium Priority

### Quality Indicators
- [x] Valid go.mod file check
- [x] Redistributable license badge
- [x] Tagged version indicator
- [x] Stable version indicator
- [x] "Learn more about best practices" link

### Repository & External Links
- [x] Repository link (github.com, cs.opensource.google, etc.)
- [x] Open Source Insights link
- [x] deps.dev link
- [x] "Report a Vulnerability" link

### UI Enhancements
- [x] Copy button for package import path
- [x] Copy button for code blocks
- [x] Dark mode toggle
- [x] Keyboard shortcuts (/ for search, etc.)
- [x] Expand/collapse all types in index

### Documentation Links
- [x] RFC references as clickable links (RFC 7231, etc.)
- [x] URL detection and auto-linking in docs
- [x] Cross-package type linking (e.g., io.Reader -> io package)

## Low Priority

### Search Enhancements
- [x] Search within package (symbols, docs)
- [x] Search suggestions/autocomplete
- [x] Filter by type (functions, types, methods)
- [x] Search result highlighting

### Additional Pages
- [x] License full text page
- [x] Imports list page
- [x] Imported by page (paginated)
- [x] Package versions list page
- [x] Module page (go.mod info)

### Performance & Polish
- [x] Lazy loading for large packages
- [x] Anchor link highlight animation
- [x] Smooth scroll behavior
- [x] Print-friendly stylesheet
- [x] SEO meta tags (og:image, description, etc.)

### Advanced Features
- [x] Go Playground embed for runnable examples
- [x] Symbol search across all indexed packages
- [x] Package comparison view
- [x] API diff between versions
- [x] Deprecation notices/warnings
- [x] Build constraints/platform tags display

## Infrastructure

### Indexing
- [x] Crawl and index Go modules from proxy.golang.org
- [x] Parse and store package documentation (SQLite database)
- [x] Track import relationships (imports table)
- [x] Version history tracking
- [x] Periodic re-indexing for updates

### API
- [x] JSON API for package metadata
- [x] Search API endpoint
- [x] Badge generation endpoint (shields.io compatible)

## Code Quality & Performance Improvements

### Testing
- [x] Database operations tests (upsert, search, FTS)
- [x] Crawler tests (version parsing, license detection)
- [x] GitHub Actions CI/CD workflow

### Performance
- [x] Database-backed search (replaces O(n) linear search)
- [x] Database-backed symbol search (FTS indexes)
- [x] Extract FindPackage() helper (eliminates code duplication)
- [x] Pagination for search results (50 results/page)
- [x] Pagination for symbol search (100 results/page)
- [x] Pagination for home page (100 packages/page, sorted)

### Error Handling
- [x] Fix JSON unmarshal error checks in db.go
- [x] Add error logging to web handlers

### Code Organization
- [x] Consolidate duplicate helper functions (util package)
  - identifyLicense, moduleToRepoURL, isDeprecated
  - Eliminates 150+ lines of duplicate code

### Future Improvements
- [ ] Add caching for search results
- [ ] Add web handler tests
- [ ] Add rate limiting for API endpoints
- [ ] Implement search result relevance scoring

### AI Enhancement Features (Mistral Integration)

#### Core Infrastructure
- [x] Add Mistral API client with rate limiting
- [x] Feature flag system (enable/disable AI per feature)
- [x] Cost tracking and budgeting for API usage
- [x] Caching layer for AI-generated content

#### Documentation Generation
- [x] Auto-generate missing function/method comments
  - Detect uncommented exported functions (ai/docgen.go)
  - Generate concise doc comments from function signature + body (ai/service.go)
  - Store generated comments separately (db.go ai_docs table, cmd/gendocs)
  - Display AI-generated docs in web UI with visual badge
- [x] Auto-generate missing package synopsis
  - Detect packages without synopsis (ai/docgen.go)
  - Extract exported symbols for context
  - Generate synopsis via AI (ai/service.go)
  - Display in package overview when missing
- [ ] Enhance existing documentation
  - Detect sparse/unclear documentation
  - Suggest improvements or expansions
  - Add examples where missing

#### Search Enhancement
- [ ] Semantic search using embeddings
  - Generate embeddings for package descriptions
  - Allow natural language queries ("find HTTP client libraries")
  - Hybrid search: FTS + semantic similarity
- [ ] Query understanding
  - Interpret vague queries
  - Suggest related packages

#### Code Examples
- [ ] Auto-generate usage examples for functions
  - Simple example showing typical usage
  - Store in database, show in UI alongside docs
- [ ] Generate runnable playground links
  - Create minimal working examples
  - Auto-populate Go Playground

#### User-Facing Features
- [ ] AI-powered "Explain this code" button
  - Explain complex function implementations
  - Break down type definitions
  - Clarify method behavior
- [ ] License summarization
  - Generate plain-English summaries of licenses
  - Highlight key terms (attribution, redistribution, etc.)
- [ ] Documentation translation
  - Translate docs to other languages
  - Cache translations per package version

#### Quality & Safety
- [ ] Hallucination detection
  - Validate generated content against actual code
  - Flag suspicious/incorrect generations
- [ ] Content moderation
  - Filter inappropriate AI outputs
  - Human review queue for generated docs
- [ ] A/B testing framework
  - Compare AI-generated vs manual docs
  - Measure user engagement/satisfaction
